{% extends 'basereg.html' %}
{% block title %}Sign Up{% endblock title %}
{% block content %}
{% load set %}



<div class="main-container" id="main-container">
	<div class="form-container sign-up-container">
		<form method="post" id="signup-form">
            {% csrf_token %}
			<h1>Registrarse</h1>
            {% for field in form %}
                {{ field }}

				{% if field.errors %}
				{% with failed=True %}			
				{% if failed %}
				<script>
					const container = document.getElementById('main-container');
					container.classList.add("right-panel-active");
				</script>
				{% endif %}
				{% endwith %}			
				{% endif %}
				
            {% endfor %}
			<button class="mt-3" type="submit">Crear una cuenta</button>
		</form>
	</div>
	<div class="form-container sign-in-container">
		<form action="#">
			<button id="signUp">Sign Up</button>
		</form>
	</div>
	<div class="overlay-container">
		<div class="overlay">
			<div class="overlay-panel overlay-left">

				{% if form.errors %}
				<div class="alert alert-secondary" role="alert">
					Por favor corrija las siguientes advertencias:
				</div>
				<div class="alert alert-secondary" role="alert">
					{% for field in form %}	
					<ul style="text-align: left;">
						{% for error in field.errors %}
							<li>{{ error }}</li>
						{% endfor %}
					</ul>
					{% endfor %}
				</div>
				{% endif %}
				
			</div>
			<div class="overlay-panel overlay-right">
				<h1>Hello, Friend!</h1>
				<p>Enter your personal details and start journey with us</p>
				
			</div>
		</div>
	</div>
</div>


<script>
    const signUpButton = document.getElementById('signUp');
    const signInButton = document.getElementById('signIn');

    const container = document.getElementById('main-container');
	
    signUpButton.addEventListener('click', () => {
        container.classList.add("right-panel-active");
    });

    signInButton.addEventListener('click', () => {
        container.classList.remove("right-panel-active");
    });
</script>

{% endblock content %}